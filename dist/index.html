<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no">
    <meta name="robots" content="index, follow">
    <!-- MetaTags -->
    <meta name="description" content="Description of the page less than 150 characters">
    <meta name="keywords" content="KeyWords">
    <!-- OG tags -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://example.com">
    <meta property="og:title" content="Content Title">
    <meta property="og:image" content="https://www.developmentlogics.com/wp-content/uploads/2017/07/4.jpg">
    <meta property="og:description" content="Description Here">
    <meta property="og:site_name" content="Site Name">
    <meta property="og:locale" content="ru_RU">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Site Name">
    <meta name="twitter:description" content="Description Here">
    <meta name="twitter:image" content="https://www.developmentlogics.com/wp-content/uploads/2017/07/4.jpg">
    <!-- Favivon -->
    <link rel="shortcut icon" href="img/favicon/favicon.ico" type="image/x-icon">
    <!-- Apple Touch Icon -->
    <link rel="apple-touch-icon" href="img/favicon/apple-touch-icon.png">
    <!-- Mobiles Header Color -->
    <meta name="theme-color" content="#000">
    <meta name="msapplication-navbutton-color" content="#000">
    <meta name="apple-mobile-web-app-status-bar-style" content="#000">
    <!-- CSS -->
    <link rel="stylesheet" href="assets/css/libs.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <title>–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</title>
</head>

<body>



    <main>
        <script>
            const content = `    <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="custom-select">
                        <div class="custom-select-label">–í–∞–ª—é—Ç–∞</div>
                        <div class="select-name" data-value="‚ÇΩ" data-name="–ï–≤—Ä–æ">
                            <span>–†—É–±–ª–∏</span>
                            <span class="select-image">
                                <img src="/assets/images/select.svg" alt=""></span>
                        </div>
                        <div class="select-list " data-select-list>
                            <div class="select-item" data-item data-value="‚Ç¨" data-name="–ï–≤—Ä–æ">–ï–≤—Ä–æ</div>
                            <div class="select-item selected" data-item data-value="‚ÇΩ" data-name="–†—É–±–ª–∏">–†—É–±–ª–∏</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="cards row">
    
            </div>
        </div>
    `


            document.addEventListener('DOMContentLoaded', () => {

                let h = document.querySelector('#content')
                h.innerHTML = content;
                const items = [{
                        icon: "ü§ù",
                        name: "–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π",
                        image: "/assets/images/personal.png",
                        description: "–î–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, –ñ–ö–•, –Ω–∞–ª–æ–≥–æ–≤, –∫–∞–¥–∞—Å—Ç—Ä–∞ –∏ —Ç.–ø.",
                        price: "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ",
                        currency: "",
                        period: 12,
                        currencies: [],
                        plans: [],
                        tariff: "ü§ù  –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π",
                        secondary_info: "–ë—É–¥–µ–º —Ä–∞–¥—ã –≤–∞—à–∏–º –¥–æ–Ω–∞—Ç–∞–º",
                        button: "–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è",
                        features: ["üê¢ 1 –ú–±–∏—Ç/—Å", "‚úÖ –î–æ—Å—Ç—É–ø –∫ —Å–∞–π—Ç–∞–º", "‚è≥ –ö–ª—é—á –ø—Ä–∏–¥—ë—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ —Å—É—Ç–æ–∫", "üõë –†–∞–±–æ—Ç–∞–µ—Ç 7 –¥–Ω–µ–π", "üõë –ù–µ–ª—å–∑—è —Å–º–æ—Ç—Ä–µ—Ç—å –≤–∏–¥–µ–æ –∏ –∫–∞—á–∞—Ç—å –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã"],
                        speed: "~1 –ú–±–∏—Ç/—Å",
                        plan_color: "color-yellow",
                        button_color: ""
                    },
                    {
                        name: "–î–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤",
                        tariff: "üìÇ  –î–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤",
                        image: "/assets/images/pro.png",
                        icon: "üìÇ",
                        description: "–ö–∞–∫ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π, –Ω–æ —á—É—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–µ–µ.",
                        price: 100,
                        currency: "‚ÇΩ",
                        period: 12,
                        currencies: [{
                            currency: "‚Ç¨",
                            price: 1,
                            plans: [{
                                    period: 6,
                                    price: 1.5,
                                    currency: "‚Ç¨"
                                },
                                {
                                    period: 1,
                                    price: 2,
                                    currency: "‚Ç¨"
                                },
                            ],

                        }],
                        plans: [{
                                period: 6,
                                price: 130,
                                currency: "‚ÇΩ"
                            },
                            {
                                period: 1,
                                price: 160,
                                currency: "‚ÇΩ"
                            },
                        ],
                        secondary_info: "",
                        button: "–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è",
                        features: ["üöú 2 –ú–±–∏—Ç/—Å", "‚úÖ –î–æ—Å—Ç—É–ø –∫ —Å–∞–π—Ç–∞–º", "‚úÖ –ö–ª—é—á –ø—Ä–∏–¥—ë—Ç –∑–∞ –ø–∞—Ä—É –º–∏–Ω—É—Ç",
                            "‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç, –ø–æ–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∞",
                            "üõë –ù–µ–ª—å–∑—è —Å–º–æ—Ç—Ä–µ—Ç—å –≤–∏–¥–µ–æ –∏ –∫–∞—á–∞—Ç—å –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã",
                            "üíô –ó–∞–±–æ—Ç–ª–∏–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞"
                        ],
                        speed: "~2 –ú–±–∏—Ç/—Å",
                        plan_color: "color-blue",
                        button_color: "",

                    },
                    {
                        icon: "üì∫",
                        name: "–î–ª—è –≤–∏–¥–µ–æ",
                        tariff: "üì∫  –î–ª—è –≤–∏–¥–µ–æ",
                        image: "/assets/images/team.png",
                        description: "–î–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π –∏ —É–¥–∞–ª—ë–Ω–Ω–æ–π —É—á—ë–±—ã.",
                        price: 250,
                        currency: "‚ÇΩ",
                        period: 12,
                        currencies: [{
                            currency: "‚Ç¨",
                            price: 3,
                            period: 12,
                            plans: [{
                                    period: 6,
                                    price: 4,
                                    currency: "‚Ç¨"
                                },
                                {
                                    period: 1,
                                    price: 5,
                                    currency: "‚Ç¨"
                                },
                            ],

                        }],
                        plans: [{
                                period: 6,
                                price: 330,
                                currency: "‚ÇΩ"
                            },
                            {
                                period: 1,
                                price: 390,
                                currency: "‚ÇΩ"
                            },
                        ],
                        secondary_info: "",
                        button: "–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è",
                        features: ["üèéÔ∏è 10 –ú–±–∏—Ç/—Å", "‚úÖ –î–æ—Å—Ç—É–ø –∫ —Å–∞–π—Ç–∞–º", "‚úÖ –ö–ª—é—á –ø—Ä–∏–¥—ë—Ç –∑–∞ –ø–∞—Ä—É –º–∏–Ω—É—Ç",
                            "‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç, –ø–æ–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∞",
                            "‚úÖ –ú–æ–∂–Ω–æ —Å–º–æ—Ç—Ä–µ—Ç—å –≤–∏–¥–µ–æ –∏ –∫–∞—á–∞—Ç—å –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã",
                            "üíô –ó–∞–±–æ—Ç–ª–∏–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞",
                            "üì∂ –í—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å"
                        ],
                        speed: "~10 –ú–±–∏—Ç/—Å",
                        plan_color: "color-red",
                        button_color: "bg-blue",


                    },
                    {
                        icon: "üòé",
                        tariff: "üòé –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π",
                        name: "–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π",
                        image: "/assets/images/enterprise.png",
                        description: "–î–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π, —É–¥–∞–ª—ë–Ω–Ω–æ–π —É—á—ë–±—ã –∏ —Ä–∞–±–æ—Ç—ã.",
                        price: 600,
                        currency: "‚ÇΩ",
                        period: 12,
                        currencies: [{
                            currency: "‚Ç¨",
                            price: 8,
                            period: 12,
                            plans: [{
                                    period: 6,
                                    price: 10,
                                    currency: "‚Ç¨"
                                },
                                {
                                    period: 1,
                                    price: 12,
                                    currency: "‚Ç¨"
                                },
                            ],

                        }],
                        plans: [{
                                period: 6,
                                price: 850,
                                currency: "‚ÇΩ"
                            },
                            {
                                period: 1,
                                price: 1000,
                                currency: "‚ÇΩ"
                            },
                        ],
                        secondary_info: "",
                        button: "–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è",
                        features: [
                            "üöÄ 40 –ú–±–∏—Ç/—Å",
                            "‚úÖ –î–æ—Å—Ç—É–ø –∫ —Å–∞–π—Ç–∞–º", "‚úÖ –ö–ª—é—á –ø—Ä–∏–¥—ë—Ç –∑–∞ –ø–∞—Ä—É –º–∏–Ω—É—Ç",
                            "‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç, –ø–æ–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∞",
                            "‚úÖ –ú–æ–∂–Ω–æ —Å–º–æ—Ç—Ä–µ—Ç—å –≤–∏–¥–µ–æ –∏ –∫–∞—á–∞—Ç—å –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã",
                            "üíô –ó–∞–±–æ—Ç–ª–∏–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞",
                            "üî• –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å",
                            "üîí –í—ã–¥–µ–ª–µ–Ω–Ω—ã–π IP",
                            "üìç–ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –≥–æ—Ä–æ–¥ —Å–µ—Ä–≤–µ—Ä–∞"
                        ],
                        speed: "~40 –ú–±–∏—Ç/—Å",
                        plan_color: "color-purple",
                        button_color: "",


                    },
                ];
                const preparePrice = (price, currency) => {
                    let currency_position = localStorage.getItem('current_currency_position');
                    if (!currency_position) {
                        currency_position = "right";
                    }

                    if (typeof price == "string") {
                        return price
                    }

                    return `${currency_position === "right" ? `${price} ${currency}` : `${currency} ${price}`}`
                };
                const arrayToHtml = (array) => {
                    let html = "";
                    array.forEach(item => html += item);
                    return html;

                }
                const plural = (value, words) => {
                    value = Math.abs(value) % 100;
                    const num = value % 10;
                    if (value > 10 && value < 20) return words[2];
                    if (num > 1 && num < 5) return words[1];
                    if (num == 1) return words[0];
                    return words[2];

                };
                const product = (product) => {
                    return `
                 <div class="col-md-6 col-lg-3 col-sm-12 mb-3">
                    <div class="card">
                        <div class="card-header">
                                                       <span class="card-header-icon">${product.icon}</span>
    
                            <h4 class="plan-name ${product.plan_color}">
                                ${product.name}
                            </h4>
                            <div class="header-secondary">
                                <p>${product.description}</p>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="vertical-margin">
                                <div class="price-wrap">
                                    <div class="card-price">
                                        <h4>${preparePrice(product.price, product.currency)}</h4>
                                        ${typeof product.price != "string" ? `<p class="card-price-description" >–í –º–µ—Å—è—Ü –ø—Ä–∏ –æ–ø–ª–∞—Ç–µ –∑–∞ –≥–æ–¥</p>` : `<p>${product.secondary_info}</p>`}
    
                                        ${arrayToHtml(product.plans.map(plan => `<p class="card-price-description">${preparePrice(plan.price, plan.currency)} –ø—Ä–∏ –æ–ø–ª–∞—Ç–µ –∑–∞ ${plan.period} ${plural(plan.period, ["–º–µ—Å—è—Ü", "–º–µ—Å—è—Ü–∞", "–º–µ—Å—è—Ü–µ–≤"])}</p>`))}
                                    </div>
                                </div>
                            </div>
                            <div class="vertical-margin">
                                <div class="card-action">
                                    <button class="btn card-btn-buy ${product.button_color}">${product.button}</button>
                                </div>
                            </div>
                            <div class="vertical-margin">
                                <ul class="features-list">
                                ${arrayToHtml(product.features.map(feature => `<li>${feature}</li>`))}
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>`
                };
                const renderProducts = (products) => {
                    const cardRow = document.querySelector('.cards');
                    if (cardRow) {
                        while (cardRow.firstChild) {
                            cardRow.removeChild(cardRow.lastChild);
                        }

                        products.forEach(productItem => cardRow.insertAdjacentHTML('beforeend', product(productItem)));
                    }

                }
                renderProducts(items);
                const prepareItems = (items, currency) => {

                    return items.map(item => {
                        const dataForReplace = item.currencies.filter(currencyItem => currencyItem.currency === currency)[0];
                        if (dataForReplace) {
                            item = {
                                ...item,
                                ...dataForReplace,
                                currencies: {
                                    currency: item.currency,
                                    price: item.price,
                                    period: 12,
                                    plans: item.plans,
                                }
                            }
                        }
                        return item


                    })
                }

                const selectListValue = document.querySelector('.custom-select .select-name');
                selectListValue.addEventListener('click', function(event) {
                    const selectList = selectListValue.closest('.custom-select').querySelector('.select-list')
                    selectList.classList.toggle('active');

                    selectList.addEventListener('click', (eventSelectItem) => {
                        const target = eventSelectItem.target.closest('.select-item')
                        if (target) {
                            selectList.querySelectorAll('.select-item').forEach(element => element.classList.remove('selected'))
                            target.classList.add('selected')
                            console.log('rerender')
                            selectListValue.textContent = target.dataset.name;
                            selectListValue.dataset.name = target.dataset.name;
                            selectListValue.dataset.value = target.dataset.value;


                            setTimeout(() => {
                                selectList.classList.remove('active');

                            }, 100)
                            const products = prepareItems(items, target.dataset.value)
                            renderProducts(products)

                        }
                    })
                })
            })
        </script>

        <div id="content"></div>
    </main>


    <script src="assets/js/app.js"></script>

</body>

</html>